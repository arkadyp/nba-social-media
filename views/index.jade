extends layout

block head
  link(rel='stylesheet', href='javascripts/vendor/bootstrap-css/css/bootstrap.css')
  script(src='javascripts/controller/StreamController.js')

block content
  div.container(ng-controller="StreamController", ng-init="setTweets()")
    h1 Social Media

    h2 Tweets

    input.tweetSearch(type='text' placeholder='Search Tweets' ng-model="searchTweets")
    form.tweetFilter
      input.tweetFilter(type='radio' name='tweetFilter' value='totScore' checked ng-click='displayOptions.orderBy = "totScore"')
      |   Combined Score
      input.tweetFilter(type='radio' name='tweetFilter' value='rtScore' ng-click='displayOptions.orderBy = "rtScore"')
      |   Retweet Score 
      input.tweetFilter(type='radio' name='tweetFilter' value='fvScore' ng-click='displayOptions.orderBy = "fvScore"')
      |   Favored Score 

    button.reverseFilter(ng-click='displayOptions.reverse = !displayOptions.reverse') Reverse

    br
    | Time Filter
    select.timeFilter
      option(value='past week') past week
      option(value='past month' selected) past month
      //option(value='past 3 months') past 3 months
      //option(value='past 6 monthsx') past 6 months

    br
    br

    //make a custom filter function that only searches in text
    div.row(ng-repeat="tweetObj in tweets | orderBy : displayOptions.orderBy : displayOptions.reverse | filter : {'tweet' : searchTweets}")
      div.tweet
      span.name {{tweetObj.name}} 
      span.username [{{tweetObj.username}}]: 
      span.tweetText {{tweetObj.tweet.text}}
      span.created_at  | {{tweetObj.created_at | date: "h:mm:a, MMM d, 'y" }}
      span.rtScore [RT: {{tweetObj.rtScore}}]
      span.fvScore [FV: {{tweetObj.fvScore}}]
      span.fvScore [TOT: {{tweetObj.totScore}}]
      //div.span3.text-right
        //i {{tweet.due | date:'MMM d, yyyy'}}